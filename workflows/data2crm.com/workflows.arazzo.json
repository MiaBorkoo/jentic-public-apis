{
  "arazzo": "1.0.1",
  "info": {
    "title": "Jentic Generated Arazzo Specification",
    "version": "1.0.0",
    "description": "Automatically generated Arazzo specification from OpenAPI"
  },
  "sourceDescriptions": [
    {
      "name": "openapi_source",
      "url": "./apis/openapi/data2crm.com/main/1/openapi.json",
      "type": "openapi"
    }
  ],
  "workflows": [
    {
      "workflowId": "onboard-crm-application",
      "summary": "Allows a user to discover supported CRM platforms, connect a new CRM system to Data2CRM.API, and then retrieve its details to confirm successful integration.",
      "description": "Allows a user to discover supported CRM platforms, connect a new CRM system to Data2CRM.API, and then retrieve its details to confirm successful integration.",
      "inputs": {
        "type": "object",
        "properties": {
          "X-API2CRM-USER-KEY": {
            "type": "string"
          },
          "page_size": {
            "type": "string"
          },
          "page": {
            "type": "string"
          },
          "fields": {
            "type": "string"
          },
          "sort": {
            "type": "string"
          },
          "authorization": {
            "type": "string"
          },
          "credential": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "key": {
            "type": "string"
          }
        }
      },
      "steps": [
        {
          "stepId": "get-supported-platforms",
          "description": "Retrieves a list of all CRM platforms supported by Data2CRM.API.",
          "operationId": "getPlatformCollection",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "page_size",
              "in": "query",
              "value": "$inputs.page_size"
            },
            {
              "name": "page",
              "in": "query",
              "value": "$inputs.page"
            },
            {
              "name": "fields",
              "in": "query",
              "value": "$inputs.fields"
            },
            {
              "name": "sort",
              "in": "query",
              "value": "$inputs.sort"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "platforms": "$response.body#/0/platforms"
          }
        },
        {
          "stepId": "create-new-crm-connection",
          "description": "Establishes a new connection to a selected CRM platform using provided credentials.",
          "operationId": "createApplicationEntity",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            }
          ],
          "requestBody": {
            "contentType": "application/json",
            "payload": {
              "type": "$steps.get-supported-platforms.outputs.platforms[0].type",
              "authorization": "$inputs.authorization",
              "credential": "$inputs.credential",
              "description": "$inputs.description"
            }
          },
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "application_key": "$response.body#/application_key"
          }
        },
        {
          "stepId": "verify-crm-connection",
          "description": "Retrieves detailed information about the newly created CRM application connection to verify its status and configuration.",
          "operationId": "getApplicationEntity",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "key",
              "in": "path",
              "value": "$steps.create-new-crm-connection.outputs.application_key"
            },
            {
              "name": "fields",
              "in": "query",
              "value": "$inputs.fields"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "application_details": "$response.body#/application_details"
          }
        }
      ],
      "outputs": {
        "platforms": "$steps.get-supported-platforms.outputs.platforms",
        "application_key": "$steps.create-new-crm-connection.outputs.application_key",
        "application_details": "$steps.verify-crm-connection.outputs.application_details"
      },
      "failureActions": [
        {
          "reference": "$components.failureActions.auth_failure"
        },
        {
          "reference": "$components.failureActions.permission_denied"
        },
        {
          "reference": "$components.failureActions.not_found"
        },
        {
          "reference": "$components.failureActions.server_error"
        }
      ]
    },
    {
      "workflowId": "create-and-retrieve-crm-contact",
      "summary": "Adds a new contact to the connected CRM system and then immediately retrieves its full details to verify successful creation and access its properties.",
      "description": "Adds a new contact to the connected CRM system and then immediately retrieves its full details to verify successful creation and access its properties.",
      "inputs": {
        "type": "object",
        "properties": {
          "X-API2CRM-USER-KEY": {
            "type": "string"
          },
          "X-API2CRM-APPLICATION-KEY": {
            "type": "string"
          },
          "X-API2CRM-NATIVE-ENABLE": {
            "type": "string"
          },
          "X-API2CRM-DESCRIBE-CREATE": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "first_name": {
            "type": "string"
          },
          "last_name": {
            "type": "string"
          },
          "X-API2CRM-DATA-ENABLE": {
            "type": "string"
          },
          "X-API2CRM-DATA-CREATE": {
            "type": "string"
          },
          "X-API2CRM-DATA-VERSION": {
            "type": "string"
          },
          "X-API2CRM-DATA-IS-FINAL": {
            "type": "string"
          },
          "X-API2CRM-DATA-STRATEGY": {
            "type": "string"
          },
          "X-API2CRM-DATA-COHERENT-ENTITIES": {
            "type": "string"
          },
          "contact_id": {
            "type": "string"
          },
          "expand": {
            "type": "string"
          },
          "fields": {
            "type": "string"
          }
        }
      },
      "steps": [
        {
          "stepId": "create-crm-contact",
          "description": "Adds a new contact record to the CRM system.",
          "operationId": "createContactEntity",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "X-API2CRM-APPLICATION-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-APPLICATION-KEY"
            },
            {
              "name": "X-API2CRM-NATIVE-ENABLE",
              "in": "header",
              "value": "$inputs.X-API2CRM-NATIVE-ENABLE"
            },
            {
              "name": "X-API2CRM-DESCRIBE-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DESCRIBE-CREATE"
            }
          ],
          "requestBody": {
            "contentType": "application/json",
            "payload": {
              "email": "$inputs.email",
              "first_name": "$inputs.first_name",
              "last_name": "$inputs.last_name"
            }
          },
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "contact_id": "$response.body#/id"
          }
        },
        {
          "stepId": "get-contact-details",
          "description": "Retrieves the full details of the newly created contact by its ID.",
          "operationId": "getContactEntity",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "X-API2CRM-APPLICATION-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-APPLICATION-KEY"
            },
            {
              "name": "X-API2CRM-NATIVE-ENABLE",
              "in": "header",
              "value": "$inputs.X-API2CRM-NATIVE-ENABLE"
            },
            {
              "name": "X-API2CRM-DATA-ENABLE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-ENABLE"
            },
            {
              "name": "X-API2CRM-DATA-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-CREATE"
            },
            {
              "name": "X-API2CRM-DATA-VERSION",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-VERSION"
            },
            {
              "name": "X-API2CRM-DATA-IS-FINAL",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-IS-FINAL"
            },
            {
              "name": "X-API2CRM-DATA-STRATEGY",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-STRATEGY"
            },
            {
              "name": "X-API2CRM-DATA-COHERENT-ENTITIES",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-COHERENT-ENTITIES"
            },
            {
              "name": "X-API2CRM-DESCRIBE-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DESCRIBE-CREATE"
            },
            {
              "name": "contact_id",
              "in": "path",
              "value": "$steps.create-crm-contact.outputs.contact_id"
            },
            {
              "name": "expand",
              "in": "query",
              "value": "$inputs.expand"
            },
            {
              "name": "fields",
              "in": "query",
              "value": "$inputs.fields"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "contact_details": "$response.body#/contact_details"
          }
        }
      ],
      "outputs": {
        "contact_id": "$steps.create-crm-contact.outputs.contact_id",
        "contact_details": "$steps.get-contact-details.outputs.contact_details"
      },
      "failureActions": [
        {
          "reference": "$components.failureActions.auth_failure"
        },
        {
          "reference": "$components.failureActions.permission_denied"
        },
        {
          "reference": "$components.failureActions.not_found"
        },
        {
          "reference": "$components.failureActions.server_error"
        }
      ]
    },
    {
      "workflowId": "update-and-verify-crm-account",
      "summary": "Retrieves an existing account's details, updates specific information, and then fetches the updated record to confirm the changes have been applied correctly.",
      "description": "Retrieves an existing account's details, updates specific information, and then fetches the updated record to confirm the changes have been applied correctly.",
      "inputs": {
        "type": "object",
        "properties": {
          "X-API2CRM-USER-KEY": {
            "type": "string"
          },
          "X-API2CRM-APPLICATION-KEY": {
            "type": "string"
          },
          "X-API2CRM-NATIVE-ENABLE": {
            "type": "string"
          },
          "X-API2CRM-DATA-ENABLE": {
            "type": "string"
          },
          "X-API2CRM-DATA-CREATE": {
            "type": "string"
          },
          "X-API2CRM-DATA-VERSION": {
            "type": "string"
          },
          "X-API2CRM-DATA-IS-FINAL": {
            "type": "string"
          },
          "X-API2CRM-DATA-STRATEGY": {
            "type": "string"
          },
          "X-API2CRM-DATA-COHERENT-ENTITIES": {
            "type": "string"
          },
          "X-API2CRM-DESCRIBE-CREATE": {
            "type": "string"
          },
          "account_id": {
            "type": "string"
          },
          "expand": {
            "type": "string"
          },
          "fields": {
            "type": "string"
          },
          "annual_revenue": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "steps": [
        {
          "stepId": "get-existing-account",
          "description": "Retrieves the current details of an account using its identifier.",
          "operationId": "getAccountEntity",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "X-API2CRM-APPLICATION-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-APPLICATION-KEY"
            },
            {
              "name": "X-API2CRM-NATIVE-ENABLE",
              "in": "header",
              "value": "$inputs.X-API2CRM-NATIVE-ENABLE"
            },
            {
              "name": "X-API2CRM-DATA-ENABLE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-ENABLE"
            },
            {
              "name": "X-API2CRM-DATA-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-CREATE"
            },
            {
              "name": "X-API2CRM-DATA-VERSION",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-VERSION"
            },
            {
              "name": "X-API2CRM-DATA-IS-FINAL",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-IS-FINAL"
            },
            {
              "name": "X-API2CRM-DATA-STRATEGY",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-STRATEGY"
            },
            {
              "name": "X-API2CRM-DATA-COHERENT-ENTITIES",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-COHERENT-ENTITIES"
            },
            {
              "name": "X-API2CRM-DESCRIBE-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DESCRIBE-CREATE"
            },
            {
              "name": "account_id",
              "in": "path",
              "value": "$inputs.account_id"
            },
            {
              "name": "expand",
              "in": "query",
              "value": "$inputs.expand"
            },
            {
              "name": "fields",
              "in": "query",
              "value": "$inputs.fields"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "account_details": "$response.body#/account_details"
          }
        },
        {
          "stepId": "update-account-info",
          "description": "Applies updates to the specified account's information.",
          "operationId": "updateAccountEntity",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "X-API2CRM-APPLICATION-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-APPLICATION-KEY"
            },
            {
              "name": "X-API2CRM-NATIVE-ENABLE",
              "in": "header",
              "value": "$inputs.X-API2CRM-NATIVE-ENABLE"
            },
            {
              "name": "X-API2CRM-DESCRIBE-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DESCRIBE-CREATE"
            },
            {
              "name": "account_id",
              "in": "path",
              "value": "$steps.get-existing-account.outputs.account_details.id"
            }
          ],
          "requestBody": {
            "contentType": "application/json",
            "payload": {
              "account_id": "$steps.get-existing-account.outputs.account_details.id",
              "annual_revenue": "$inputs.annual_revenue",
              "name": "$inputs.name"
            }
          },
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "updated_account_id": "$response.body#/id"
          }
        },
        {
          "stepId": "verify-account-update",
          "description": "Fetches the account details again to confirm that the updates were successfully saved.",
          "operationId": "getAccountEntity",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "X-API2CRM-APPLICATION-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-APPLICATION-KEY"
            },
            {
              "name": "X-API2CRM-NATIVE-ENABLE",
              "in": "header",
              "value": "$inputs.X-API2CRM-NATIVE-ENABLE"
            },
            {
              "name": "X-API2CRM-DATA-ENABLE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-ENABLE"
            },
            {
              "name": "X-API2CRM-DATA-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-CREATE"
            },
            {
              "name": "X-API2CRM-DATA-VERSION",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-VERSION"
            },
            {
              "name": "X-API2CRM-DATA-IS-FINAL",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-IS-FINAL"
            },
            {
              "name": "X-API2CRM-DATA-STRATEGY",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-STRATEGY"
            },
            {
              "name": "X-API2CRM-DATA-COHERENT-ENTITIES",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-COHERENT-ENTITIES"
            },
            {
              "name": "X-API2CRM-DESCRIBE-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DESCRIBE-CREATE"
            },
            {
              "name": "account_id",
              "in": "path",
              "value": "$steps.update-account-info.outputs.updated_account_id"
            },
            {
              "name": "expand",
              "in": "query",
              "value": "$inputs.expand"
            },
            {
              "name": "fields",
              "in": "query",
              "value": "$inputs.fields"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "verified_account_details": "$response.body#/verified_account_details"
          }
        }
      ],
      "outputs": {
        "account_details": "$steps.get-existing-account.outputs.account_details",
        "updated_account_id": "$steps.update-account-info.outputs.updated_account_id",
        "verified_account_details": "$steps.verify-account-update.outputs.verified_account_details"
      },
      "failureActions": [
        {
          "reference": "$components.failureActions.auth_failure"
        },
        {
          "reference": "$components.failureActions.permission_denied"
        },
        {
          "reference": "$components.failureActions.not_found"
        },
        {
          "reference": "$components.failureActions.server_error"
        }
      ]
    },
    {
      "workflowId": "discover-crm-entity-schemas",
      "summary": "Allows a developer to programmatically discover all available CRM entities and retrieve the detailed data schema for a specific entity, which is essential for dynamic integrations.",
      "description": "Allows a developer to programmatically discover all available CRM entities and retrieve the detailed data schema for a specific entity, which is essential for dynamic integrations.",
      "inputs": {
        "type": "object",
        "properties": {
          "X-API2CRM-USER-KEY": {
            "type": "string"
          },
          "X-API2CRM-APPLICATION-KEY": {
            "type": "string"
          },
          "X-API2CRM-NATIVE-ENABLE": {
            "type": "string"
          },
          "X-API2CRM-DESCRIBE-CREATE": {
            "type": "string"
          },
          "page_size": {
            "type": "string"
          },
          "page": {
            "type": "string"
          },
          "filter": {
            "type": "string"
          },
          "fields": {
            "type": "string"
          },
          "X-API2CRM-DATA-ENABLE": {
            "type": "string"
          },
          "X-API2CRM-DATA-CREATE": {
            "type": "string"
          },
          "X-API2CRM-DATA-VERSION": {
            "type": "string"
          },
          "X-API2CRM-DATA-IS-FINAL": {
            "type": "string"
          },
          "X-API2CRM-DATA-STRATEGY": {
            "type": "string"
          },
          "X-API2CRM-DATA-COHERENT-ENTITIES": {
            "type": "string"
          },
          "entity_id": {
            "type": "string"
          }
        }
      },
      "steps": [
        {
          "stepId": "list-all-entities",
          "description": "Retrieves a list of all standard and custom entities available in the connected CRM.",
          "operationId": "getEntityCollection",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "X-API2CRM-APPLICATION-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-APPLICATION-KEY"
            },
            {
              "name": "X-API2CRM-NATIVE-ENABLE",
              "in": "header",
              "value": "$inputs.X-API2CRM-NATIVE-ENABLE"
            },
            {
              "name": "X-API2CRM-DESCRIBE-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DESCRIBE-CREATE"
            },
            {
              "name": "page_size",
              "in": "query",
              "value": "$inputs.page_size"
            },
            {
              "name": "page",
              "in": "query",
              "value": "$inputs.page"
            },
            {
              "name": "filter",
              "in": "query",
              "value": "$inputs.filter"
            },
            {
              "name": "fields",
              "in": "query",
              "value": "$inputs.fields"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "entity_list": "$response.body#/0/entity_list"
          }
        },
        {
          "stepId": "get-specific-entity-schema",
          "description": "Retrieves the detailed schema definition for a specific CRM entity, including its fields and their properties.",
          "operationId": "getEntityItemDescribe",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "X-API2CRM-APPLICATION-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-APPLICATION-KEY"
            },
            {
              "name": "X-API2CRM-DATA-ENABLE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-ENABLE"
            },
            {
              "name": "X-API2CRM-DATA-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-CREATE"
            },
            {
              "name": "X-API2CRM-DATA-VERSION",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-VERSION"
            },
            {
              "name": "X-API2CRM-DATA-IS-FINAL",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-IS-FINAL"
            },
            {
              "name": "X-API2CRM-DATA-STRATEGY",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-STRATEGY"
            },
            {
              "name": "X-API2CRM-DATA-COHERENT-ENTITIES",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-COHERENT-ENTITIES"
            },
            {
              "name": "X-API2CRM-DESCRIBE-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DESCRIBE-CREATE"
            },
            {
              "name": "entity_id",
              "in": "path",
              "value": "$steps.list-all-entities.outputs.entity_list.id"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "entity_schema": "$response.body#/entity_schema"
          }
        }
      ],
      "outputs": {
        "entity_list": "$steps.list-all-entities.outputs.entity_list",
        "entity_schema": "$steps.get-specific-entity-schema.outputs.entity_schema"
      },
      "failureActions": [
        {
          "reference": "$components.failureActions.auth_failure"
        },
        {
          "reference": "$components.failureActions.permission_denied"
        },
        {
          "reference": "$components.failureActions.not_found"
        },
        {
          "reference": "$components.failureActions.server_error"
        }
      ]
    },
    {
      "workflowId": "add-custom-field-to-entity",
      "summary": "Enables the creation of a new custom field for a specified CRM entity, extending its data model.",
      "description": "Enables the creation of a new custom field for a specified CRM entity, extending its data model.",
      "inputs": {
        "type": "object",
        "properties": {
          "X-API2CRM-USER-KEY": {
            "type": "string"
          },
          "X-API2CRM-APPLICATION-KEY": {
            "type": "string"
          },
          "X-API2CRM-DESCRIBE-CREATE": {
            "type": "string"
          },
          "field_id": {
            "type": "string"
          },
          "label": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          }
        }
      },
      "steps": [
        {
          "stepId": "get-entity-field-metadata",
          "description": "Retrieves the metadata and schema for fields of a specific entity, useful before adding new fields.",
          "operationId": "getFieldItemDescribe",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "X-API2CRM-APPLICATION-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-APPLICATION-KEY"
            },
            {
              "name": "X-API2CRM-DESCRIBE-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DESCRIBE-CREATE"
            },
            {
              "name": "field_id",
              "in": "path",
              "value": "$inputs.field_id"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "field_describe": "$response.body#/field_describe"
          }
        },
        {
          "stepId": "create-new-custom-field",
          "description": "Adds a new custom field definition to the specified entity.",
          "operationId": "createFieldItemEntity",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "X-API2CRM-APPLICATION-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-APPLICATION-KEY"
            },
            {
              "name": "X-API2CRM-DESCRIBE-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DESCRIBE-CREATE"
            },
            {
              "name": "field_id",
              "in": "path",
              "value": "$steps.get-entity-field-metadata.outputs.field_describe.entity"
            }
          ],
          "requestBody": {
            "contentType": "application/json",
            "payload": {
              "field_id": "$steps.get-entity-field-metadata.outputs.field_describe.entity",
              "label": "$inputs.label",
              "name": "$inputs.name",
              "type": "$inputs.type"
            }
          },
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "new_field_id": "$response.body#/id"
          }
        }
      ],
      "outputs": {
        "field_describe": "$steps.get-entity-field-metadata.outputs.field_describe",
        "new_field_id": "$steps.create-new-custom-field.outputs.new_field_id"
      },
      "failureActions": [
        {
          "reference": "$components.failureActions.auth_failure"
        },
        {
          "reference": "$components.failureActions.permission_denied"
        },
        {
          "reference": "$components.failureActions.not_found"
        },
        {
          "reference": "$components.failureActions.server_error"
        }
      ]
    },
    {
      "workflowId": "manage-internal-api-users",
      "summary": "Allows for the creation of new internal users for the Data2CRM.API service and subsequent retrieval of their details for management purposes.",
      "description": "Allows for the creation of new internal users for the Data2CRM.API service and subsequent retrieval of their details for management purposes.",
      "inputs": {
        "type": "object",
        "properties": {
          "X-API2CRM-USER-KEY": {
            "type": "string"
          },
          "internal_user_id": {
            "type": "string"
          },
          "fields": {
            "type": "string"
          },
          "application_request_start": {
            "type": "string"
          },
          "application_request_end": {
            "type": "string"
          }
        }
      },
      "steps": [
        {
          "stepId": "create-internal-user",
          "description": "Adds a new internal user account to the Data2CRM.API system.",
          "operationId": "createInternalUserEntity",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "internal_user_key": "$response.body#/internal_user_key"
          }
        },
        {
          "stepId": "get-internal-user-details",
          "description": "Retrieves the detailed profile information for a specific internal user.",
          "operationId": "getInternalUserEntity",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "internal_user_id",
              "in": "path",
              "value": "$steps.create-internal-user.outputs.internal_user_key"
            },
            {
              "name": "fields",
              "in": "query",
              "value": "$inputs.fields"
            },
            {
              "name": "application_request_start",
              "in": "query",
              "value": "$inputs.application_request_start"
            },
            {
              "name": "application_request_end",
              "in": "query",
              "value": "$inputs.application_request_end"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "user_details": "$response.body#/user_details"
          }
        }
      ],
      "outputs": {
        "internal_user_key": "$steps.create-internal-user.outputs.internal_user_key",
        "user_details": "$steps.get-internal-user-details.outputs.user_details"
      },
      "failureActions": [
        {
          "reference": "$components.failureActions.auth_failure"
        },
        {
          "reference": "$components.failureActions.permission_denied"
        },
        {
          "reference": "$components.failureActions.not_found"
        },
        {
          "reference": "$components.failureActions.server_error"
        }
      ]
    },
    {
      "workflowId": "get-entity-counts-for-reporting",
      "summary": "Retrieves a list of all available CRM entities and then fetches the total count of records for each entity, useful for generating reports or dashboards.",
      "description": "Retrieves a list of all available CRM entities and then fetches the total count of records for each entity, useful for generating reports or dashboards.",
      "inputs": {
        "type": "object",
        "properties": {
          "X-API2CRM-USER-KEY": {
            "type": "string"
          },
          "X-API2CRM-APPLICATION-KEY": {
            "type": "string"
          },
          "X-API2CRM-NATIVE-ENABLE": {
            "type": "string"
          },
          "X-API2CRM-DESCRIBE-CREATE": {
            "type": "string"
          },
          "page_size": {
            "type": "string"
          },
          "page": {
            "type": "string"
          },
          "filter": {
            "type": "string"
          },
          "fields": {
            "type": "string"
          },
          "X-API2CRM-DATA-ENABLE": {
            "type": "string"
          },
          "X-API2CRM-DATA-CREATE": {
            "type": "string"
          },
          "X-API2CRM-DATA-VERSION": {
            "type": "string"
          },
          "X-API2CRM-DATA-IS-FINAL": {
            "type": "string"
          },
          "X-API2CRM-DATA-STRATEGY": {
            "type": "string"
          },
          "X-API2CRM-DATA-COHERENT-ENTITIES": {
            "type": "string"
          },
          "entity_id": {
            "type": "string"
          }
        }
      },
      "steps": [
        {
          "stepId": "list-all-entities-for-count",
          "description": "Retrieves a list of all standard and custom entities available in the connected CRM.",
          "operationId": "getEntityCollection",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "X-API2CRM-APPLICATION-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-APPLICATION-KEY"
            },
            {
              "name": "X-API2CRM-NATIVE-ENABLE",
              "in": "header",
              "value": "$inputs.X-API2CRM-NATIVE-ENABLE"
            },
            {
              "name": "X-API2CRM-DESCRIBE-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DESCRIBE-CREATE"
            },
            {
              "name": "page_size",
              "in": "query",
              "value": "$inputs.page_size"
            },
            {
              "name": "page",
              "in": "query",
              "value": "$inputs.page"
            },
            {
              "name": "filter",
              "in": "query",
              "value": "$inputs.filter"
            },
            {
              "name": "fields",
              "in": "query",
              "value": "$inputs.fields"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "entity_list": "$response.body#/0/entity_list"
          }
        },
        {
          "stepId": "get-entity-record-count",
          "description": "For a given entity, retrieves the total number of records.",
          "operationId": "getEntityItemCountCollection",
          "parameters": [
            {
              "name": "X-API2CRM-USER-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-USER-KEY"
            },
            {
              "name": "X-API2CRM-APPLICATION-KEY",
              "in": "header",
              "value": "$inputs.X-API2CRM-APPLICATION-KEY"
            },
            {
              "name": "X-API2CRM-DATA-ENABLE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-ENABLE"
            },
            {
              "name": "X-API2CRM-DATA-CREATE",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-CREATE"
            },
            {
              "name": "X-API2CRM-DATA-VERSION",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-VERSION"
            },
            {
              "name": "X-API2CRM-DATA-IS-FINAL",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-IS-FINAL"
            },
            {
              "name": "X-API2CRM-DATA-STRATEGY",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-STRATEGY"
            },
            {
              "name": "X-API2CRM-DATA-COHERENT-ENTITIES",
              "in": "header",
              "value": "$inputs.X-API2CRM-DATA-COHERENT-ENTITIES"
            },
            {
              "name": "entity_id",
              "in": "path",
              "value": "$steps.list-all-entities-for-count.outputs.entity_list.id"
            },
            {
              "name": "filter",
              "in": "query",
              "value": "$inputs.filter"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "total_count": "$response.body#/total_count"
          }
        }
      ],
      "outputs": {
        "entity_list": "$steps.list-all-entities-for-count.outputs.entity_list",
        "total_count": "$steps.get-entity-record-count.outputs.total_count"
      },
      "failureActions": [
        {
          "reference": "$components.failureActions.auth_failure"
        },
        {
          "reference": "$components.failureActions.permission_denied"
        },
        {
          "reference": "$components.failureActions.not_found"
        },
        {
          "reference": "$components.failureActions.server_error"
        }
      ]
    }
  ],
  "components": {
    "successActions": {
      "default_success": {
        "name": "default_success",
        "type": "end"
      }
    },
    "failureActions": {
      "auth_failure": {
        "name": "auth_failure",
        "type": "end",
        "criteria": [
          {
            "condition": "$statusCode == 401"
          }
        ]
      },
      "permission_denied": {
        "name": "permission_denied",
        "type": "end",
        "criteria": [
          {
            "condition": "$statusCode == 403"
          }
        ]
      },
      "not_found": {
        "name": "not_found",
        "type": "end",
        "criteria": [
          {
            "condition": "$statusCode == 404"
          }
        ]
      },
      "server_error": {
        "name": "server_error",
        "type": "retry",
        "retryAfter": 2,
        "retryLimit": 3,
        "criteria": [
          {
            "condition": "$statusCode >= 500"
          }
        ]
      },
      "default_retry": {
        "name": "default_retry",
        "type": "retry",
        "retryAfter": 1,
        "retryLimit": 3
      },
      "default_failure": {
        "name": "default_failure",
        "type": "end"
      }
    }
  }
}
