{
  "arazzo": "1.0.1",
  "info": {
    "title": "Jentic Generated Arazzo Specification",
    "version": "1.0.0",
    "description": "Automatically generated Arazzo specification from OpenAPI"
  },
  "sourceDescriptions": [
    {
      "name": "openapi_source",
      "url": "./apis/openapi/parliament.uk/bills/v1/openapi.json",
      "type": "openapi"
    }
  ],
  "workflows": [
    {
      "workflowId": "track-bill-progress",
      "summary": "Allows a user to search for a bill, retrieve its detailed information, list its stages, and find related news articles and publications, providing a comprehensive overview of a bill's journey.",
      "description": "Allows a user to search for a bill, retrieve its detailed information, list its stages, and find related news articles and publications, providing a comprehensive overview of a bill's journey.",
      "inputs": {
        "type": "object",
        "properties": {
          "SearchTerm": {
            "type": "string"
          },
          "Session": {
            "type": "string"
          },
          "CurrentHouse": {
            "type": "string"
          },
          "OriginatingHouse": {
            "type": "string"
          },
          "MemberId": {
            "type": "string"
          },
          "DepartmentId": {
            "type": "string"
          },
          "BillStage": {
            "type": "string"
          },
          "BillStagesExcluded": {
            "type": "string"
          },
          "IsDefeated": {
            "type": "string"
          },
          "IsWithdrawn": {
            "type": "string"
          },
          "BillType": {
            "type": "string"
          },
          "SortOrder": {
            "type": "string"
          },
          "BillIds": {
            "type": "string"
          },
          "IsInAmendableStage": {
            "type": "string"
          },
          "Skip": {
            "type": "string"
          },
          "Take": {
            "type": "string"
          },
          "billId": {
            "type": "string"
          }
        }
      },
      "steps": [
        {
          "stepId": "get-bills",
          "description": "Searches for and returns a list of bills based on various criteria. This is the entry point to find a bill by its title, house, or other attributes.",
          "operationId": "GetBills",
          "parameters": [
            {
              "name": "SearchTerm",
              "in": "query",
              "value": "$inputs.SearchTerm"
            },
            {
              "name": "Session",
              "in": "query",
              "value": "$inputs.Session"
            },
            {
              "name": "CurrentHouse",
              "in": "query",
              "value": "$inputs.CurrentHouse"
            },
            {
              "name": "OriginatingHouse",
              "in": "query",
              "value": "$inputs.OriginatingHouse"
            },
            {
              "name": "MemberId",
              "in": "query",
              "value": "$inputs.MemberId"
            },
            {
              "name": "DepartmentId",
              "in": "query",
              "value": "$inputs.DepartmentId"
            },
            {
              "name": "BillStage",
              "in": "query",
              "value": "$inputs.BillStage"
            },
            {
              "name": "BillStagesExcluded",
              "in": "query",
              "value": "$inputs.BillStagesExcluded"
            },
            {
              "name": "IsDefeated",
              "in": "query",
              "value": "$inputs.IsDefeated"
            },
            {
              "name": "IsWithdrawn",
              "in": "query",
              "value": "$inputs.IsWithdrawn"
            },
            {
              "name": "BillType",
              "in": "query",
              "value": "$inputs.BillType"
            },
            {
              "name": "SortOrder",
              "in": "query",
              "value": "$inputs.SortOrder"
            },
            {
              "name": "BillIds",
              "in": "query",
              "value": "$inputs.BillIds"
            },
            {
              "name": "IsInAmendableStage",
              "in": "query",
              "value": "$inputs.IsInAmendableStage"
            },
            {
              "name": "Skip",
              "in": "query",
              "value": "$inputs.Skip"
            },
            {
              "name": "Take",
              "in": "query",
              "value": "$inputs.Take"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "items": "$response.body#/items",
            "totalResults": "$response.body#/totalResults"
          }
        },
        {
          "stepId": "get-bill",
          "description": "Retrieves the full details of a specific bill using its ID, including its long title, summary, sponsors, and current stage.",
          "operationId": "GetBill",
          "parameters": [
            {
              "name": "billId",
              "in": "path",
              "value": "$steps.get-bills.outputs.items.billId"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "billId": "$response.body#/billId",
            "shortTitle": "$response.body#/shortTitle",
            "currentHouse": "$response.body#/currentHouse",
            "originatingHouse": "$response.body#/originatingHouse",
            "lastUpdate": "$response.body#/lastUpdate",
            "isAct": "$response.body#/isAct",
            "currentStage": "$response.body#/currentStage",
            "longTitle": "$response.body#/longTitle",
            "summary": "$response.body#/summary",
            "sponsors": "$response.body#/sponsors",
            "promoters": "$response.body#/promoters",
            "agent": "$response.body#/agent"
          }
        },
        {
          "stepId": "get-bill-stages",
          "description": "Lists all the stages a specific bill has gone through or is currently in, providing an overview of its legislative progress.",
          "operationPath": "openapi_source#/paths/~1api~1v1~1Bills~1{billId}~1Stages/get",
          "parameters": [
            {
              "name": "billId",
              "in": "path",
              "value": "$steps.get-bill.outputs.billId"
            },
            {
              "name": "Skip",
              "in": "query",
              "value": "$inputs.Skip"
            },
            {
              "name": "Take",
              "in": "query",
              "value": "$inputs.Take"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "items": "$response.body#/items",
            "totalResults": "$response.body#/totalResults"
          }
        },
        {
          "stepId": "get-news-articles",
          "description": "Fetches news articles related to a specific bill, offering external context and media coverage.",
          "operationId": "GetNewsArticles",
          "parameters": [
            {
              "name": "billId",
              "in": "path",
              "value": "$steps.get-bill.outputs.billId"
            },
            {
              "name": "Skip",
              "in": "query",
              "value": "$inputs.Skip"
            },
            {
              "name": "Take",
              "in": "query",
              "value": "$inputs.Take"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "items": "$response.body#/items",
            "totalResults": "$response.body#/totalResults"
          }
        },
        {
          "stepId": "get-bill-publication",
          "description": "Retrieves a list of official publications associated with a bill, such as committee reports or legislative documents.",
          "operationId": "GetBillPublication",
          "parameters": [
            {
              "name": "billId",
              "in": "path",
              "value": "$steps.get-bill.outputs.billId"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "billId": "$response.body#/billId",
            "publications": "$response.body#/publications"
          }
        }
      ],
      "outputs": {
        "items": "$steps.get-news-articles.outputs.items",
        "totalResults": "$steps.get-news-articles.outputs.totalResults",
        "billId": "$steps.get-bill-publication.outputs.billId",
        "shortTitle": "$steps.get-bill.outputs.shortTitle",
        "currentHouse": "$steps.get-bill.outputs.currentHouse",
        "originatingHouse": "$steps.get-bill.outputs.originatingHouse",
        "lastUpdate": "$steps.get-bill.outputs.lastUpdate",
        "isAct": "$steps.get-bill.outputs.isAct",
        "currentStage": "$steps.get-bill.outputs.currentStage",
        "longTitle": "$steps.get-bill.outputs.longTitle",
        "summary": "$steps.get-bill.outputs.summary",
        "sponsors": "$steps.get-bill.outputs.sponsors",
        "promoters": "$steps.get-bill.outputs.promoters",
        "agent": "$steps.get-bill.outputs.agent",
        "publications": "$steps.get-bill-publication.outputs.publications"
      },
      "failureActions": [
        {
          "reference": "$components.failureActions.auth_failure"
        },
        {
          "reference": "$components.failureActions.permission_denied"
        },
        {
          "reference": "$components.failureActions.not_found"
        },
        {
          "reference": "$components.failureActions.server_error"
        }
      ]
    },
    {
      "workflowId": "analyze-bill-stage-details",
      "summary": "Allows a user to select a specific bill, then drill down into one of its stages to view detailed information, including associated amendments and motions (Ping Pong items).",
      "description": "Allows a user to select a specific bill, then drill down into one of its stages to view detailed information, including associated amendments and motions (Ping Pong items).",
      "inputs": {
        "type": "object",
        "properties": {
          "SearchTerm": {
            "type": "string"
          },
          "Session": {
            "type": "string"
          },
          "CurrentHouse": {
            "type": "string"
          },
          "OriginatingHouse": {
            "type": "string"
          },
          "MemberId": {
            "type": "string"
          },
          "DepartmentId": {
            "type": "string"
          },
          "BillStage": {
            "type": "string"
          },
          "BillStagesExcluded": {
            "type": "string"
          },
          "IsDefeated": {
            "type": "string"
          },
          "IsWithdrawn": {
            "type": "string"
          },
          "BillType": {
            "type": "string"
          },
          "SortOrder": {
            "type": "string"
          },
          "BillIds": {
            "type": "string"
          },
          "IsInAmendableStage": {
            "type": "string"
          },
          "Skip": {
            "type": "string"
          },
          "Take": {
            "type": "string"
          },
          "billId": {
            "type": "string"
          },
          "billStageId": {
            "type": "string"
          },
          "AmendmentNumber": {
            "type": "string"
          },
          "Decision": {
            "type": "string"
          },
          "amendmentId": {
            "type": "string"
          },
          "pingPongItemId": {
            "type": "string"
          }
        }
      },
      "steps": [
        {
          "stepId": "get-bills",
          "description": "Initiates the workflow by searching for bills to identify a target bill.",
          "operationId": "GetBills",
          "parameters": [
            {
              "name": "SearchTerm",
              "in": "query",
              "value": "$inputs.SearchTerm"
            },
            {
              "name": "Session",
              "in": "query",
              "value": "$inputs.Session"
            },
            {
              "name": "CurrentHouse",
              "in": "query",
              "value": "$inputs.CurrentHouse"
            },
            {
              "name": "OriginatingHouse",
              "in": "query",
              "value": "$inputs.OriginatingHouse"
            },
            {
              "name": "MemberId",
              "in": "query",
              "value": "$inputs.MemberId"
            },
            {
              "name": "DepartmentId",
              "in": "query",
              "value": "$inputs.DepartmentId"
            },
            {
              "name": "BillStage",
              "in": "query",
              "value": "$inputs.BillStage"
            },
            {
              "name": "BillStagesExcluded",
              "in": "query",
              "value": "$inputs.BillStagesExcluded"
            },
            {
              "name": "IsDefeated",
              "in": "query",
              "value": "$inputs.IsDefeated"
            },
            {
              "name": "IsWithdrawn",
              "in": "query",
              "value": "$inputs.IsWithdrawn"
            },
            {
              "name": "BillType",
              "in": "query",
              "value": "$inputs.BillType"
            },
            {
              "name": "SortOrder",
              "in": "query",
              "value": "$inputs.SortOrder"
            },
            {
              "name": "BillIds",
              "in": "query",
              "value": "$inputs.BillIds"
            },
            {
              "name": "IsInAmendableStage",
              "in": "query",
              "value": "$inputs.IsInAmendableStage"
            },
            {
              "name": "Skip",
              "in": "query",
              "value": "$inputs.Skip"
            },
            {
              "name": "Take",
              "in": "query",
              "value": "$inputs.Take"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "items": "$response.body#/items"
          }
        },
        {
          "stepId": "get-bill-stages",
          "description": "Lists all stages for the selected bill to identify a specific stage of interest.",
          "operationPath": "openapi_source#/paths/~1api~1v1~1Bills~1{billId}~1Stages/get",
          "parameters": [
            {
              "name": "billId",
              "in": "path",
              "value": "$steps.get-bills.outputs.items.billId"
            },
            {
              "name": "Skip",
              "in": "query",
              "value": "$inputs.Skip"
            },
            {
              "name": "Take",
              "in": "query",
              "value": "$inputs.Take"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "items": "$response.body#/items"
          }
        },
        {
          "stepId": "get-bill-stage-details",
          "description": "Retrieves detailed information about a specific bill stage, such as its description, house, and whether it has motions.",
          "operationId": "GetBillStageDetails",
          "parameters": [
            {
              "name": "billId",
              "in": "path",
              "value": "$steps.get-bill-stages.outputs.items.billId"
            },
            {
              "name": "billStageId",
              "in": "path",
              "value": "$steps.get-bill-stages.outputs.items.id"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "id": "$response.body#/id",
            "stageId": "$response.body#/stageId",
            "description": "$response.body#/description",
            "house": "$response.body#/house",
            "hasMotions": "$response.body#/hasMotions"
          }
        },
        {
          "stepId": "get-amendments",
          "description": "Lists amendments associated with the selected bill stage, allowing for further filtering by search term, amendment number, or member.",
          "operationId": "GetAmendments",
          "parameters": [
            {
              "name": "billId",
              "in": "path",
              "value": "$inputs.billId"
            },
            {
              "name": "billStageId",
              "in": "path",
              "value": "$steps.get-bill-stage-details.outputs.id"
            },
            {
              "name": "SearchTerm",
              "in": "query",
              "value": "$inputs.SearchTerm"
            },
            {
              "name": "AmendmentNumber",
              "in": "query",
              "value": "$inputs.AmendmentNumber"
            },
            {
              "name": "Decision",
              "in": "query",
              "value": "$inputs.Decision"
            },
            {
              "name": "MemberId",
              "in": "query",
              "value": "$inputs.MemberId"
            },
            {
              "name": "Skip",
              "in": "query",
              "value": "$inputs.Skip"
            },
            {
              "name": "Take",
              "in": "query",
              "value": "$inputs.Take"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "items": "$response.body#/items",
            "totalResults": "$response.body#/totalResults"
          }
        },
        {
          "stepId": "get-amendment",
          "description": "Retrieves the full details of a specific amendment identified in the previous step.",
          "operationId": "GetAmendment",
          "parameters": [
            {
              "name": "billId",
              "in": "path",
              "value": "$steps.get-amendments.outputs.items.billId"
            },
            {
              "name": "billStageId",
              "in": "path",
              "value": "$steps.get-amendments.outputs.items.billStageId"
            },
            {
              "name": "amendmentId",
              "in": "path",
              "value": "$steps.get-amendments.outputs.items.id"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "id": "$response.body#/id",
            "billId": "$response.body#/billId",
            "billStageId": "$response.body#/billStageId",
            "statusIndicator": "$response.body#/statusIndicator",
            "decision": "$response.body#/decision",
            "sponsors": "$response.body#/sponsors"
          }
        },
        {
          "stepId": "search-ping-pong-items",
          "description": "Lists motions or amendments (Ping Pong items) related to the bill stage, which are crucial for understanding parliamentary back-and-forth.",
          "operationId": "SearchPingPongItems",
          "parameters": [
            {
              "name": "billId",
              "in": "path",
              "value": "$inputs.billId"
            },
            {
              "name": "billStageId",
              "in": "path",
              "value": "$steps.get-bill-stage-details.outputs.id"
            },
            {
              "name": "SearchTerm",
              "in": "query",
              "value": "$inputs.SearchTerm"
            },
            {
              "name": "AmendmentNumber",
              "in": "query",
              "value": "$inputs.AmendmentNumber"
            },
            {
              "name": "Decision",
              "in": "query",
              "value": "$inputs.Decision"
            },
            {
              "name": "MemberId",
              "in": "query",
              "value": "$inputs.MemberId"
            },
            {
              "name": "Skip",
              "in": "query",
              "value": "$inputs.Skip"
            },
            {
              "name": "Take",
              "in": "query",
              "value": "$inputs.Take"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "items": "$response.body#/items",
            "totalResults": "$response.body#/totalResults"
          }
        },
        {
          "stepId": "get-ping-pong-item",
          "description": "Retrieves the detailed information for a specific Ping Pong item (amendment or motion).",
          "operationId": "GetPingPongItem",
          "parameters": [
            {
              "name": "billId",
              "in": "path",
              "value": "$steps.search-ping-pong-items.outputs.items.billId"
            },
            {
              "name": "billStageId",
              "in": "path",
              "value": "$steps.search-ping-pong-items.outputs.items.billStageId"
            },
            {
              "name": "pingPongItemId",
              "in": "path",
              "value": "$steps.search-ping-pong-items.outputs.items.id"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "type": "$response.body#/type",
            "amendment": "$response.body#/amendment",
            "motion": "$response.body#/motion"
          }
        }
      ],
      "outputs": {
        "items": "$steps.search-ping-pong-items.outputs.items",
        "id": "$steps.get-amendment.outputs.id",
        "stageId": "$steps.get-bill-stage-details.outputs.stageId",
        "description": "$steps.get-bill-stage-details.outputs.description",
        "house": "$steps.get-bill-stage-details.outputs.house",
        "hasMotions": "$steps.get-bill-stage-details.outputs.hasMotions",
        "totalResults": "$steps.search-ping-pong-items.outputs.totalResults",
        "billId": "$steps.get-amendment.outputs.billId",
        "billStageId": "$steps.get-amendment.outputs.billStageId",
        "statusIndicator": "$steps.get-amendment.outputs.statusIndicator",
        "decision": "$steps.get-amendment.outputs.decision",
        "sponsors": "$steps.get-amendment.outputs.sponsors",
        "type": "$steps.get-ping-pong-item.outputs.type",
        "amendment": "$steps.get-ping-pong-item.outputs.amendment",
        "motion": "$steps.get-ping-pong-item.outputs.motion"
      },
      "failureActions": [
        {
          "reference": "$components.failureActions.auth_failure"
        },
        {
          "reference": "$components.failureActions.permission_denied"
        },
        {
          "reference": "$components.failureActions.not_found"
        },
        {
          "reference": "$components.failureActions.server_error"
        }
      ]
    },
    {
      "workflowId": "retrieve-and-download-bill-documents",
      "summary": "Enables a user to find a specific bill, list its associated publications (either for the whole bill or a specific stage), and then retrieve details or download specific documents from those publications.",
      "description": "Enables a user to find a specific bill, list its associated publications (either for the whole bill or a specific stage), and then retrieve details or download specific documents from those publications.",
      "inputs": {
        "type": "object",
        "properties": {
          "SearchTerm": {
            "type": "string"
          },
          "Session": {
            "type": "string"
          },
          "CurrentHouse": {
            "type": "string"
          },
          "OriginatingHouse": {
            "type": "string"
          },
          "MemberId": {
            "type": "string"
          },
          "DepartmentId": {
            "type": "string"
          },
          "BillStage": {
            "type": "string"
          },
          "BillStagesExcluded": {
            "type": "string"
          },
          "IsDefeated": {
            "type": "string"
          },
          "IsWithdrawn": {
            "type": "string"
          },
          "BillType": {
            "type": "string"
          },
          "SortOrder": {
            "type": "string"
          },
          "BillIds": {
            "type": "string"
          },
          "IsInAmendableStage": {
            "type": "string"
          },
          "Skip": {
            "type": "string"
          },
          "Take": {
            "type": "string"
          },
          "billId": {
            "type": "string"
          },
          "publicationId": {
            "type": "string"
          },
          "documentId": {
            "type": "string"
          }
        }
      },
      "steps": [
        {
          "stepId": "get-bills",
          "description": "Starts the process by allowing the user to search for a bill.",
          "operationId": "GetBills",
          "parameters": [
            {
              "name": "SearchTerm",
              "in": "query",
              "value": "$inputs.SearchTerm"
            },
            {
              "name": "Session",
              "in": "query",
              "value": "$inputs.Session"
            },
            {
              "name": "CurrentHouse",
              "in": "query",
              "value": "$inputs.CurrentHouse"
            },
            {
              "name": "OriginatingHouse",
              "in": "query",
              "value": "$inputs.OriginatingHouse"
            },
            {
              "name": "MemberId",
              "in": "query",
              "value": "$inputs.MemberId"
            },
            {
              "name": "DepartmentId",
              "in": "query",
              "value": "$inputs.DepartmentId"
            },
            {
              "name": "BillStage",
              "in": "query",
              "value": "$inputs.BillStage"
            },
            {
              "name": "BillStagesExcluded",
              "in": "query",
              "value": "$inputs.BillStagesExcluded"
            },
            {
              "name": "IsDefeated",
              "in": "query",
              "value": "$inputs.IsDefeated"
            },
            {
              "name": "IsWithdrawn",
              "in": "query",
              "value": "$inputs.IsWithdrawn"
            },
            {
              "name": "BillType",
              "in": "query",
              "value": "$inputs.BillType"
            },
            {
              "name": "SortOrder",
              "in": "query",
              "value": "$inputs.SortOrder"
            },
            {
              "name": "BillIds",
              "in": "query",
              "value": "$inputs.BillIds"
            },
            {
              "name": "IsInAmendableStage",
              "in": "query",
              "value": "$inputs.IsInAmendableStage"
            },
            {
              "name": "Skip",
              "in": "query",
              "value": "$inputs.Skip"
            },
            {
              "name": "Take",
              "in": "query",
              "value": "$inputs.Take"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "items": "$response.body#/items"
          }
        },
        {
          "stepId": "get-bill-publication",
          "description": "Retrieves a list of all publications related to the selected bill.",
          "operationId": "GetBillPublication",
          "parameters": [
            {
              "name": "billId",
              "in": "path",
              "value": "$steps.get-bills.outputs.items.billId"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "publications": "$response.body#/publications"
          }
        },
        {
          "stepId": "get-document-info",
          "description": "Gets metadata about a specific document within a publication, such as filename and content type.",
          "operationPath": "openapi_source#/paths/~1api~1v1~1Publications~1{publicationId}~1Documents~1{documentId}/get",
          "parameters": [
            {
              "name": "publicationId",
              "in": "path",
              "value": "$steps.get-bill-publication.outputs.publications.id"
            },
            {
              "name": "documentId",
              "in": "path",
              "value": "$steps.get-bill-publication.outputs.publications.files[0].id"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "id": "$response.body#/id",
            "filename": "$response.body#/filename",
            "contentType": "$response.body#/contentType",
            "contentLength": "$response.body#/contentLength"
          }
        },
        {
          "stepId": "download-document",
          "description": "Downloads the actual content of the specified document.",
          "operationPath": "openapi_source#/paths/~1api~1v1~1Publications~1{publicationId}~1Documents~1{documentId}~1Download/get",
          "parameters": [
            {
              "name": "publicationId",
              "in": "path",
              "value": "$steps.get-document-info.outputs.id"
            },
            {
              "name": "documentId",
              "in": "path",
              "value": "$steps.get-document-info.outputs.id"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "document_data": "$response.body"
          }
        }
      ],
      "outputs": {
        "items": "$steps.get-bills.outputs.items",
        "publications": "$steps.get-bill-publication.outputs.publications",
        "id": "$steps.get-document-info.outputs.id",
        "filename": "$steps.get-document-info.outputs.filename",
        "contentType": "$steps.get-document-info.outputs.contentType",
        "contentLength": "$steps.get-document-info.outputs.contentLength",
        "document_data": "$steps.download-document.outputs.document_data"
      },
      "failureActions": [
        {
          "reference": "$components.failureActions.auth_failure"
        },
        {
          "reference": "$components.failureActions.permission_denied"
        },
        {
          "reference": "$components.failureActions.not_found"
        },
        {
          "reference": "$components.failureActions.server_error"
        }
      ]
    },
    {
      "workflowId": "discover-bill-reference-data",
      "summary": "Provides a way to retrieve lists of available bill types and general bill stages, which are useful for populating dropdowns, filtering searches, or understanding the legislative process.",
      "description": "Provides a way to retrieve lists of available bill types and general bill stages, which are useful for populating dropdowns, filtering searches, or understanding the legislative process.",
      "inputs": {
        "type": "object",
        "properties": {
          "Category": {
            "type": "string"
          },
          "Skip": {
            "type": "string"
          },
          "Take": {
            "type": "string"
          }
        }
      },
      "steps": [
        {
          "stepId": "get-bill-types",
          "description": "Retrieves a comprehensive list of all defined bill types (e.g., Public, Private, Hybrid), which can be used to categorize or filter bills.",
          "operationPath": "openapi_source#/paths/~1api~1v1~1BillTypes/get",
          "parameters": [
            {
              "name": "Category",
              "in": "query",
              "value": "$inputs.Category"
            },
            {
              "name": "Skip",
              "in": "query",
              "value": "$inputs.Skip"
            },
            {
              "name": "Take",
              "in": "query",
              "value": "$inputs.Take"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "items": "$response.body#/items",
            "totalResults": "$response.body#/totalResults"
          }
        },
        {
          "stepId": "get-all-stages",
          "description": "Fetches a list of all possible legislative stages a bill can go through, providing reference data for understanding bill progression.",
          "operationPath": "openapi_source#/paths/~1api~1v1~1Stages/get",
          "parameters": [
            {
              "name": "Skip",
              "in": "query",
              "value": "$inputs.Skip"
            },
            {
              "name": "Take",
              "in": "query",
              "value": "$inputs.Take"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "items": "$response.body#/items",
            "totalResults": "$response.body#/totalResults"
          }
        }
      ],
      "outputs": {
        "items": "$steps.get-all-stages.outputs.items",
        "totalResults": "$steps.get-all-stages.outputs.totalResults"
      },
      "failureActions": [
        {
          "reference": "$components.failureActions.auth_failure"
        },
        {
          "reference": "$components.failureActions.permission_denied"
        },
        {
          "reference": "$components.failureActions.not_found"
        },
        {
          "reference": "$components.failureActions.server_error"
        }
      ]
    },
    {
      "workflowId": "subscribe-to-bill-updates-rss",
      "summary": "Allows users to subscribe to RSS feeds for different categories of bills (all, public, private) or a specific bill to stay updated on legislative changes and new publications.",
      "description": "Allows users to subscribe to RSS feeds for different categories of bills (all, public, private) or a specific bill to stay updated on legislative changes and new publications.",
      "inputs": {
        "type": "object",
        "properties": {
          "SearchTerm": {
            "type": "string"
          },
          "Session": {
            "type": "string"
          },
          "CurrentHouse": {
            "type": "string"
          },
          "OriginatingHouse": {
            "type": "string"
          },
          "MemberId": {
            "type": "string"
          },
          "DepartmentId": {
            "type": "string"
          },
          "BillStage": {
            "type": "string"
          },
          "BillStagesExcluded": {
            "type": "string"
          },
          "IsDefeated": {
            "type": "string"
          },
          "IsWithdrawn": {
            "type": "string"
          },
          "BillType": {
            "type": "string"
          },
          "SortOrder": {
            "type": "string"
          },
          "BillIds": {
            "type": "string"
          },
          "IsInAmendableStage": {
            "type": "string"
          },
          "Skip": {
            "type": "string"
          },
          "Take": {
            "type": "string"
          },
          "id": {
            "type": "string"
          }
        }
      },
      "steps": [
        {
          "stepId": "get-bills",
          "description": "Optionally, search for a specific bill to get its ID for a targeted RSS feed.",
          "operationId": "GetBills",
          "parameters": [
            {
              "name": "SearchTerm",
              "in": "query",
              "value": "$inputs.SearchTerm"
            },
            {
              "name": "Session",
              "in": "query",
              "value": "$inputs.Session"
            },
            {
              "name": "CurrentHouse",
              "in": "query",
              "value": "$inputs.CurrentHouse"
            },
            {
              "name": "OriginatingHouse",
              "in": "query",
              "value": "$inputs.OriginatingHouse"
            },
            {
              "name": "MemberId",
              "in": "query",
              "value": "$inputs.MemberId"
            },
            {
              "name": "DepartmentId",
              "in": "query",
              "value": "$inputs.DepartmentId"
            },
            {
              "name": "BillStage",
              "in": "query",
              "value": "$inputs.BillStage"
            },
            {
              "name": "BillStagesExcluded",
              "in": "query",
              "value": "$inputs.BillStagesExcluded"
            },
            {
              "name": "IsDefeated",
              "in": "query",
              "value": "$inputs.IsDefeated"
            },
            {
              "name": "IsWithdrawn",
              "in": "query",
              "value": "$inputs.IsWithdrawn"
            },
            {
              "name": "BillType",
              "in": "query",
              "value": "$inputs.BillType"
            },
            {
              "name": "SortOrder",
              "in": "query",
              "value": "$inputs.SortOrder"
            },
            {
              "name": "BillIds",
              "in": "query",
              "value": "$inputs.BillIds"
            },
            {
              "name": "IsInAmendableStage",
              "in": "query",
              "value": "$inputs.IsInAmendableStage"
            },
            {
              "name": "Skip",
              "in": "query",
              "value": "$inputs.Skip"
            },
            {
              "name": "Take",
              "in": "query",
              "value": "$inputs.Take"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "items": "$response.body#/items"
          }
        },
        {
          "stepId": "get-all-bills-rss",
          "description": "Retrieves an RSS feed containing updates for all bills.",
          "operationPath": "openapi_source#/paths/~1api~1v1~1Rss~1allbills.rss/get",
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "rss_data": "$response.body"
          }
        },
        {
          "stepId": "get-public-bills-rss",
          "description": "Retrieves an RSS feed specifically for public bills.",
          "operationPath": "openapi_source#/paths/~1api~1v1~1Rss~1publicbills.rss/get",
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "rss_data": "$response.body"
          }
        },
        {
          "stepId": "get-private-bills-rss",
          "description": "Retrieves an RSS feed specifically for private bills.",
          "operationPath": "openapi_source#/paths/~1api~1v1~1Rss~1privatebills.rss/get",
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "rss_data": "$response.body"
          }
        },
        {
          "stepId": "get-specific-bill-rss",
          "description": "Retrieves an RSS feed for a particular bill, identified by its ID.",
          "operationPath": "openapi_source#/paths/~1api~1v1~1Rss~1Bills~1{id}.rss/get",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "value": "$steps.get-bills.outputs.items.billId"
            }
          ],
          "successCriteria": [
            {
              "condition": "$statusCode == 200"
            }
          ],
          "outputs": {
            "rss_data": "$response.body"
          }
        }
      ],
      "outputs": {
        "items": "$steps.get-bills.outputs.items",
        "rss_data": "$steps.get-specific-bill-rss.outputs.rss_data"
      },
      "failureActions": [
        {
          "reference": "$components.failureActions.auth_failure"
        },
        {
          "reference": "$components.failureActions.permission_denied"
        },
        {
          "reference": "$components.failureActions.not_found"
        },
        {
          "reference": "$components.failureActions.server_error"
        }
      ]
    }
  ],
  "components": {
    "successActions": {
      "default_success": {
        "name": "default_success",
        "type": "end"
      }
    },
    "failureActions": {
      "auth_failure": {
        "name": "auth_failure",
        "type": "end",
        "criteria": [
          {
            "condition": "$statusCode == 401"
          }
        ]
      },
      "permission_denied": {
        "name": "permission_denied",
        "type": "end",
        "criteria": [
          {
            "condition": "$statusCode == 403"
          }
        ]
      },
      "not_found": {
        "name": "not_found",
        "type": "end",
        "criteria": [
          {
            "condition": "$statusCode == 404"
          }
        ]
      },
      "server_error": {
        "name": "server_error",
        "type": "retry",
        "retryAfter": 2,
        "retryLimit": 3,
        "criteria": [
          {
            "condition": "$statusCode >= 500"
          }
        ]
      },
      "default_retry": {
        "name": "default_retry",
        "type": "retry",
        "retryAfter": 1,
        "retryLimit": 3
      },
      "default_failure": {
        "name": "default_failure",
        "type": "end"
      }
    }
  }
}